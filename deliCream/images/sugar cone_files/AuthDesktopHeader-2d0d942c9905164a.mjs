"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[82952],{529533:(e,t,n)=>{n.d(t,{Z:()=>S});var s=n(667294),i=n(616550),a=n(20256),o=n(909512),l=n(297934),r=n(580340),c=n(354641),u=n(233846),d=n(971518),h=n(231333),_=n(578415),m=n(694602),p=n(857147),x=n(785893),f=n(890360),g=n(784291),y=n(113474),b=n(339908),A=n(162726),j=n(901948),P=n(344500),w=n(23063),v=n(400700),C=n(168008),T=n(630929);function S({currentSite:e,isSterlingOnSteroids:t,isAdsNavMenuEnabled:n,advertiser:S,idealTooltipDirection:k,icon:I,iconSize:z,iconLabel:B,defaultIconColor:Z,selectedIconColor:E,tooltipZIndex:L,onClick:R,onPanelChange:O,showMoreOptions:D=!0}){let N=(0,u.ZP)(),{showAccountMenuFlyout:U,updateHeaderState:H}=(0,j.Z)(),M=e=>{H({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[F,Y]=(0,s.useState)(!1),[W,$]=(0,s.useState)(!0),q=(0,i.k6)(),G=(0,l.Z)(),Q=(0,v.Z)(),V=(0,w.Z)({user:Q.data,viewer:G}),J=V&&W,K=(0,y.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:G.isAuth?G.id:""}}),X=(0,s.useRef)(null),ee=(0,c.YG)(e)&&!t||(0,c.Dm)(e)||(0,c.Y3)(e)||(0,c.qX)(e),et=(0,c.Y3)(e)||n,en=(0,i.TH)(),es=(0,b.dI)();(0,s.useEffect)(()=>{!function({showOneToast:e,i18n:t,location:n,history:s,username:i,fullName:a,avatarUrl:o}){if(!(n&&n.search))return;let l=(0,m.Z)(t,n,i||""),{message:r}=(0,p.mB)(n.search),c=r===_.pN||r===_.aU;l&&(e(({hideToast:e})=>(0,x.jsx)(h.Z,{duration:_.Jl,onHide:e,text:l,thumbnail:c?{avatar:(0,x.jsx)(d.qE,{name:a||"",size:"md",src:o||""})}:void 0})),s.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}({showOneToast:es.showOneToast,i18n:N,location:en,history:q,username:G.isAuth&&G.username||"",fullName:G.isAuth&&G.fullName||"",avatarUrl:G.isAuth&&G.imageMediumUrl||""})},[]),(0,s.useEffect)(()=>(G.isAuth&&G.partner&&(0,g.Mt)(G,K.data),()=>{G.isAuth&&G.partner&&(0,g.CV)("flyout.dismiss")}),[]),(0,s.useEffect)(()=>{(K.data?.businesses??[]).length>0&&Y(!0)},[K]),(0,s.useEffect)(()=>{O?.(U)},[U]);let{pathname:ei}=en,ea=!(ei.startsWith("/settings")||ei.startsWith("/edit"))&&(G.isAuth&&G.username&&ei.startsWith(`/${G.username}`)||ei.startsWith("/news_hub")),eo=V||ei.startsWith("/homefeed")||ei.startsWith("/business/hub")||"/"===ei;return(0,x.jsx)(A.T,{children:(0,x.jsxs)(C.j,{children:[(0,x.jsx)(a.hU,{ref:X,accessibilityLabel:B??N._('Accounts and more options', 'header.accountsOptionsMenu.accountsOptionsMenuButton', 'accessibility label for the button that shows the accounts/options menu'),dataTestId:"header-accounts-options-button",icon:I||"arrow-down",iconColor:U?E||"darkGray":Z||"gray",onClick:()=>{R?.(),M(!U),Y(!1),$(!1)},size:z||"xs",tooltip:{accessibilityLabel:"",text:B??N._('Accounts and more options', 'navbar.actionsOptionsButton.tooltip', 'Tooltip text for icon button to open accounts/options menu'),zIndex:L||new a.H3([P.NW]),idealDirection:k}}),U&&(0,x.jsx)(a.xu,{"data-test-id":"HeaderAccountsOptionsFlyout",children:(0,x.jsx)(r.Z,{advertiser:S,anchor:X.current,isWwwSite:(0,c.YG)(e),onDismiss:()=>{M(!1)},showAccountSwitcher:ee,showAdsSupportOption:et,showMoreOptions:D})}),F&&(0,x.jsx)(a.xu,{"data-test-id":"LinkedBusinessAccountFlyout",children:(0,x.jsx)(o.Qp,{anchor:X.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,f.LO)(en)&&(0,x.jsx)(o.Qp,{anchor:X.current,experienceIds:[503137],idealDirection:"left",placementId:1000303}),G.isAuth&&!G.partner?(0,x.jsx)(a.mh,{zIndex:new a.H3([T.pS]),children:(0,x.jsx)(o.Qp,{anchor:X.current,experienceIds:[503893,503602],onClickComplete:()=>q.push("/settings"),placementId:1000109,showCaret:!0})}):null,J&&(0,x.jsx)(a.mh,{zIndex:new a.H3([T.pS]),children:(0,x.jsx)(o.Qp,{anchor:X.current,experienceIds:[505848],hasFullWidthButton:!1,onClickComplete:()=>{$(!1),q.push("/settings/permissions")},placementId:1000109,showCaret:!0,textWeight:"normal"})}),ea&&(0,x.jsx)(a.mh,{zIndex:new a.H3([T.pS]),children:(0,x.jsx)(o.Qp,{anchor:X.current,experienceIds:[505283],flyoutSize:"md",hasFullWidthButton:!1,onClickComplete:()=>{q.push("/settings/privacy/")},placementId:1000109,showCaret:!0,textAlign:"center",textWeight:"bold"})}),eo&&(0,x.jsx)(a.mh,{zIndex:new a.H3([T.pS]),children:(0,x.jsx)(o.Qp,{anchor:X.current,experienceIds:[505949],hasFullWidthButton:!1,onClickComplete:()=>{q.push("/settings/claim")},placementId:1000109,showCaret:!0,textWeight:"normal"})})]})})}},547362:(e,t,n)=>{n.d(t,{Z:()=>s});function s(e){return"object"==typeof e&&null!==e&&"url"in e&&"media"in e}},363402:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(667294),i=n(19963),a=n(718369);let o=e=>{let t=(0,s.useRef)(!1),{logContextEvent:n}=(0,i.u)(),{viewType:o,viewParameter:l}=(0,a.SU)();(0,s.useEffect)(()=>{Object.entries(e).length>0&&!t.current&&o&&(n({event_type:13,view_type:o,view_parameter:l,...e}),t.current=!0)})}},578415:(e,t,n)=>{n.d(t,{Di:()=>o,E2:()=>c,Eh:()=>d,Jl:()=>s,R:()=>i,aU:()=>l,iu:()=>r,j2:()=>a,pN:()=>u});let s=1e4,i="permanent_account_closure",a="account_deletion_email_sent",o="account_deactivated",l="unlink_successful",r="lba_deprecation_personal_convert_account_message",c="lba_deprecation_business_convert_account_message",u="account_switch_to_settings",d="lba_deprecation_delete_account"},694602:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(379466),i=n(857147);function a(e,t,n=""){if(!(t&&t.search))return"";let{message:o}=(0,i.mB)(t.search),l=(0,i.mB)(t.search).username||n,r="true"===(0,i.mB)(t.search).multiple_accounts;return(0,s.Z)({i18n:e,message:o,multipleAccounts:r,username:l})}},379466:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(20256),i=n(51340),a=n(578415),o=n(785893);function l(e,t,n){return(0,o.jsx)(s.xv,{align:n||"center",children:(0,i.nk)(e,{username:(0,o.jsx)(s.xv,{inline:!0,weight:"bold",children:t})})})}function r({i18n:e,message:t,multipleAccounts:n,username:s=""}){switch(t){case a.R:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case a.j2:if(n)return l(e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),s);return l(e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),s);case a.Di:return l(n?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),s);case a.aU:return l(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),s,"start");case a.pN:return l(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),s,"start");case a.iu:return e._('Your account is now a personal account', 'unauthLoginPage.unlinkAccountToast.personal.message', 'Confirmation message after a user has successfully converted the lba to a personal account');case a.E2:return e._('Your account is now a business account', 'unauthLoginPage.unlinkAccountToast.business.message', 'Confirmation message after a user has successfully converted the lba to a business account');case a.Eh:return e._('Your Linked Business Account was deleted', 'unauthLoginPage.unlinkAccountToast.business.message', 'Confirmation message after a user has successfully deleted their linked business account');default:return""}}},483158:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(183908),i=n(137130);function a({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:a,advertiserId:o}){let l=e||t||n?`${i.C0}`:"",r=`${l}${a}`;return o?(0,s.Z)(r,{advertiserId:o}):r}},444695:(e,t,n)=>{n.r(t),n.d(t,{Header:()=>K,default:()=>X});var s=n(667294),i=n(616550),a=n(20256),o=n(138266),l=n(203728),r=n(547362),c=n(643063),u=n(909512),d=n(529533),h=n(233846),_=n(890360),m=n(263815),p=n(967312),x=n(174646),f=n(677316),g=n(857147),y=n(520063),b=n(964081),A=n(774289),j=n(19963),P=n(290896),w=n(479872),v=n(785893);let C=({isSelected:e,onClick:t})=>{let n=(0,h.ZP)(),{logContextEvent:i}=(0,j.u)(),l=(0,A.Z)(!0),r=(0,s.useRef)(null),[c,u]=(0,s.useState)(!1),d=e=>{i({event_type:101,component:13988,element:e}),u(!1)};return(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(a.xu,{ref:r,"data-test-id":"create-tab",children:(0,v.jsx)(P.Z,{contextData:w.$L.createPin,iconEnd:l?void 0:"arrow-down",isSelected:e,navigateTo:l?{kind:"Legacy",url:(0,o.Z)(l)}:null,onClick:()=>{t?.(),l?i({event_type:101,component:13988,element:10949}):u(e=>!e)},role:l?"link":"button",text:n._('Create', 'header.section.createTab', 'visual label for Create tab button in nav bar')})}),c&&(0,v.jsxs)(a.Lt,{anchor:r.current,id:"header-create-dropdown",idealDirection:"down",onDismiss:()=>{u(!1)},zIndex:new a.Ry(1e3),children:[(0,v.jsx)(a.Lt.Link,{dataTestId:"create-idea-pin",href:"/idea-pin-builder/",onClick:()=>d(10949),option:{value:"ideaPin",label:n._('Create Pin for Idea ad', 'header.headerCreateMenu.ideaPinBtn', 'Create Pin for Idea ad button')}}),(0,v.jsx)(a.Lt.Link,{dataTestId:"create-static-pin",href:"/pin-builder/",onClick:()=>d(10643),option:{value:"pin",label:n._('Create Pin', 'header.headerCreateMenu.pinBtn', 'Create Pin button')}})]})]})};var T=n(822500),S=n(522816),k=n(346340),I=n(679878),z=n(422378),B=n(344500),Z=n(992114);function E({tabs:e}){let t=(0,h.ZP)(),[n,i]=(0,s.useState)(!1),{hovered:o,onMouseEnter:l,onMouseLeave:r}=(0,z.Z)(),c=(0,s.useRef)(null),u=e.find(e=>e.isSelected);u||(u=e.find(e=>"home"===e.key));let d=()=>i(!1);return(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(a.xu,{ref:c,color:n?"dark":o?"secondary":void 0,"data-test-id":"HeaderCollapsedTabs",display:"inlineBlock",flex:"none",height:48,marginStart:2,minWidth:60,onMouseEnter:l,onMouseLeave:r,rounding:6,children:(0,v.jsx)(a.iP,{fullHeight:!0,onTap:()=>{i(!n),u?.incrementKey&&(0,Z.nP)(u.incrementKey)},rounding:6,children:(0,v.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"14px 14px",whiteSpace:"nowrap"}},display:"flex",flex:"none",justifyContent:"center",children:[(0,v.jsx)(a.xv,{align:"center",color:n?"inverse":"default",overflow:"normal",weight:"bold",children:u?.text}),(0,v.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"1px"}},marginStart:2,children:(0,v.jsx)(a.JO,{accessibilityLabel:t._('Open tab menu', 'header.tabMenu.downArrow', 'accessibility label for icon indicating more tabs are available in a menu'),color:n?"inverse":"default",icon:"arrow-down",size:12})})]})})}),n&&(0,v.jsx)(a.xu,{"data-test-id":"HeaderCollapsedTabsMenu",children:(0,v.jsx)(a.Lt,{anchor:c.current,disableMobileUI:!0,id:"HeaderCollapsedTabsMenu",onDismiss:d,zIndex:new a.H3([new a.Ry(B.fe)]),children:e.map(({isSelected:e,key:n,text:s,url:i})=>(0,v.jsx)(a.Lt.Link,{href:i,onClick:d,option:{value:n,label:s},children:(0,v.jsxs)(a.kC,{alignItems:"center",width:"100%",children:[(0,v.jsx)(a.kC.Item,{flex:"grow",children:(0,v.jsx)(a.xv,{weight:"bold",children:s})}),(0,v.jsx)(a.JO,{accessibilityLabel:t._('Selected option', 'flyoutMenu.selectedOptionCheckmark', 'Accessibility label for checkmark icon indicating which option is currently selected'),color:"default",icon:e?"check":void 0,inline:!0})]})},n))})})]})}var L=n(381262),R=n(390247),O=n(113474);function D({children:e,isSelected:t}){let{isLoaded:n,data:s}=(0,O.Z)({name:"ApiResource",options:{url:"/v3/feeds/homefeed/badge/"},noCache:!0});return e(!!(n&&s)&&!t)}function N({anchor:e}){let t=(0,h.ZP)();return(0,v.jsx)(a.pl,{anchor:e,idealDirection:"down",message:t._('Your home feed will show ideas for your new interests', 'Flyout message on Pinterest logo on Header', 'Flyout message on Pinterest logo on Header'),onDismiss:()=>{}})}var U=n(791343),H=n(536045),M=n(363402),F=n(965319);function Y({isSelected:e,onClick:t}){let n=(0,h.ZP)();(0,M.Z)({component:w.$L.today.component,element:w.$L.today.element});let s=n._('Explore', 'header.section.exploreTab', 'visual label for Explore tab button in nav bar');return(0,v.jsx)(P.Z,{contextData:w.$L.today,dataTestId:"today-tab",isSelected:e,navigateTo:{kind:"Legacy",url:(0,F.tG)()},onClick:t,showNotifBadge:!0,text:s})}var W=n(857893),$=n(375335),q=n(420925),G=n(630929);function Q(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let{hidden:V,visibilityChange:J}=(0,c.s)();class K extends s.Component{constructor(e){super(e),Q(this,"iconRoutes",(0,T.Z)({username:this.props.viewer.username,isIdeaPinRenamingEnabled:this.props.isIdeaPinRenamingEnabled})),Q(this,"logoButtonRef",(0,s.createRef)()),Q(this,"profileRef",(0,s.createRef)()),Q(this,"getCollapsedTabList",()=>[{key:"home",text:this.props.i18n._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),url:"/",incrementKey:w.ye.HOME_BUTTON_COLLAPSED_TAB},...this.props.isTodayTabEligible?[{key:"explore",text:this.props.i18n._('Explore', 'header.section.exploreTab', 'visual label for Explore tab button in nav bar'),url:"/today/",incrementKey:w.ye.TODAY_TAB_COLLAPSED_TAB}]:[],{key:"create",text:this.props.i18n._('Create', 'header.section.createTab', 'visual label for Create tab button in nav bar'),url:(0,o.Z)(this.props.isIdeaPinRenamingEnabled),incrementKey:w.ye.CREATE_TAB_COLLAPSED_TAB}]),Q(this,"handleDAUPing",()=>{document[V]||(0,l.Z)()}),Q(this,"fetchUserAccounts",()=>{let{userAccountsRetrieved:e,viewer:t}=this.props;t.isAuth&&(0,m.dD)(t).then(t=>{e(t)})}),this.state={selected:(0,S.Z)({pathname:e.location.pathname,iconRoutes:this.iconRoutes}),showLeftTabs:!0}}componentDidMount(){let{headerButtonContext:e}=this.props;this.fetchUserAccounts(),(0,s.startTransition)(()=>{e.setLogoButtonRef(this.logoButtonRef.current)}),J&&window.addEventListener(J,this.handleDAUPing,!1)}componentDidUpdate(e){let{location:t}=this.props;if(e.location.pathname!==t.pathname){let e=(0,S.Z)({pathname:t.pathname,iconRoutes:this.iconRoutes});this.setState({selected:e})}}componentWillUnmount(){J&&window.removeEventListener(J,this.handleDAUPing)}renderSearchBox(){let{history:e,shrinkSearchBox:t,searchIconOnly:n}=this.props;return e?.push?(0,v.jsx)(b.Z,{handleIconOnlyChange:e=>this.setState({showLeftTabs:n&&e}),iconOnly:n,widthType:t?"shrink":void 0}):null}renderButtons(){let{currentSite:e,headerButtonContext:t,isVerticalNavEnabled:n,shrinkSearchBox:i,onMouseDownHomefeedPrefetch:o,onNavigateToHomefeedMousedownPrefetch:l}=this.props,{selected:r,showLeftTabs:c}=this.state;return n?(0,v.jsxs)(a.xu,{alignItems:"center",column:12,"data-test-id":"button-container",display:"flex",height:56,children:[this.renderSearchBox(),(0,v.jsx)(a.kC.Item,{children:(0,v.jsx)(U.Z,{children:(0,v.jsx)(k.Z,{idealTooltipDirection:"down",isSelected:"profile"===r,onClick:()=>(0,Z.nP)(w.P8.AVATAR),tooltipZIndex:G.BO})})}),(0,v.jsx)(a.kC.Item,{children:(0,v.jsx)(d.Z,{currentSite:e,iconLabel:this.props.i18n._('Accounts', 'header.accountOptionsButton.accountsOnly', 'accessibility label for accounts button in nav bar'),onPanelChange:e=>{e&&(0,Z.nP)(w.P8.ACCOUNT_SWITCHER)},showMoreOptions:!1})})]}):(0,v.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,v.jsxs)(a.xu,{children:[(0,v.jsx)(a.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,v.jsx)(R.Z,{onClick:()=>{(0,Z.nP)(w.ye.PINTEREST_LOGO),l?.()},onMouseDown:o},"HomeButton")}),t.isTooltipOnLogoButtonShown&&(0,v.jsx)(N,{anchor:this.logoButtonRef.current})]}),!i&&c&&(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(D,{isSelected:"home"===r,children:e=>(0,v.jsx)(P.Z,{dataTestId:"home-tab",isSelected:"home"===r,navigateTo:{kind:"Legacy",url:"/"},onClick:()=>(0,Z.nP)(w.ye.HOME_TAB),onMouseDown:o,onTap:l,showNotifBadge:e,text:this.props.i18n._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar')})}),this.props.isTodayTabEligible&&(0,v.jsx)(Y,{isSelected:"today"===r,onClick:()=>(0,Z.nP)(w.ye.TODAY_TAB)}),(0,v.jsx)(C,{isSelected:"create"===r,onClick:()=>(0,Z.nP)(w.ye.CREATE_TAB)})]}),i&&c&&(0,v.jsx)(E,{tabs:this.getCollapsedTabList().map(e=>({isSelected:r===e.key,...e}))}),this.renderSearchBox(),(0,v.jsxs)(a.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:[(0,v.jsx)(H.F,{value:{currentSite:e},children:(0,v.jsx)($.Z,{onConversationsClick:()=>(0,Z.nP)(w.ye.CONVERSATIONS),onNewsClick:()=>(0,Z.nP)(w.ye.NEWS)})}),(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(a.xu,{ref:this.profileRef,children:(0,v.jsx)(U.Z,{children:(0,v.jsx)(k.Z,{isSelected:"profile"===r,onClick:()=>(0,Z.nP)(w.ye.AVATAR)})})}),(0,v.jsx)(d.Z,{currentSite:e,onClick:()=>(0,Z.nP)(w.ye.ACCOUNT_OPTIONS)})]})]})]})}renderHomeButtonAndAccountSwitcher(){let{currentSite:e,headerButtonContext:t}=this.props,{selected:n}=this.state;return(0,v.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,v.jsxs)(a.xu,{children:[(0,v.jsx)(a.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,v.jsx)(R.Z,{onClick:()=>(0,Z.nP)(w.ye.EXTERNAL_BUTTON_QUERY_PINTEREST_LOGO)},"HomeButton")}),t.isTooltipOnLogoButtonShown&&(0,v.jsx)(N,{anchor:this.logoButtonRef.current})]}),(0,v.jsx)(a.xu,{flex:"grow"}),(0,v.jsx)(a.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(a.xu,{ref:this.profileRef,children:(0,v.jsx)(U.Z,{children:(0,v.jsx)(k.Z,{isSelected:"profile"===n,onClick:()=>(0,Z.nP)(w.ye.EXTERNAL_BUTTON_QUERY_AVATAR)})})}),(0,v.jsx)(d.Z,{currentSite:e,onClick:()=>(0,Z.nP)(w.ye.EXTERNAL_BUTTON_QUERY_ACCOUNT_OPTIONS)})]})})]})}renderBusinessSsoPageHeader(){let{i18n:e}=this.props;return(0,v.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,v.jsx)(a.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,v.jsx)(R.Z,{onClick:()=>(0,Z.nP)(w.ye.SSO_PAGE_PINTEREST_LOGO)},"HomeButton")}),(0,v.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{letterSpacing:"-1px"}},children:(0,v.jsx)(a.X6,{accessibilityLevel:2,color:"default",overflow:"normal",size:"400",children:e._('Business', 'authHeader.logoText.business', 'Business text for the sso signup page header')})})]})}renderUnsubscribePageHeader(){let{history:e,i18n:t,trackInteraction:n}=this.props;return(0,v.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,v.jsx)(a.xu,{children:(0,v.jsx)(R.Z,{onClick:()=>(0,Z.nP)(w.ye.UNSUBSCRIBE_PAGE_PINTEREST_LOGO)},"HomeButton")}),(0,v.jsx)(a.xu,{flex:"grow"}),(0,v.jsx)(a.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,v.jsx)(a.iP,{onTap:()=>{e.push("/"),n({action:"click",item:"back-to-pinterest",within:"unsubscribe-page"})},rounding:2,tapStyle:"compress",children:(0,v.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,v.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:t._('Back to Pinterest', 'header.backToPinterest.section', 'Button that allows one-click going back to Pinterest homefeed from email unsubscribe page')}),(0,v.jsx)(k.Z,{isSelected:!1,noNavigation:!0,onClick:()=>(0,Z.nP)(w.ye.UNSUBSCRIBE_PAGE_AVATAR)})]})})})]})}renderHeaderContent(){let{location:e,viewer:t}=this.props;if((0,_.RU)(e)){let t=(0,g.mB)(e.search);if((0,r.Z)(t))return this.renderHomeButtonAndAccountSwitcher()}else if((0,_.OK)(e)&&t.isLimitedLogin)return this.renderUnsubscribePageHeader();else if((0,_.nU)(e))return this.renderBusinessSsoPageHeader();return this.renderButtons()}render(){let{headerShadowContext:{isScrolled:e,subheaderShadow:t},nags:n}=this.props;return(0,v.jsxs)(a.xu,{color:"default",column:12,"data-test-id":"header-background",children:[n,(0,v.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{...null===t&&e?B.Rz:{}}},children:(0,v.jsx)(a.kC,{direction:"column",height:B.cI,justifyContent:"start",width:"100%",children:(0,v.jsx)(a.xu,{alignItems:"center",column:12,display:"flex",flex:"grow",paddingX:4,children:this.renderHeaderContent()})})})]})}}function X(e){let t=(0,h.ZP)(),n=(0,i.k6)(),s=(0,i.TH)(),a=(0,I.C)(),o=(0,L.bj)(),l=(0,x.B)(),{checkExperiment:r}=(0,p.FJ)(),{userAccountsRetrieved:c}=(0,y.N)(),d=(0,f.Z)(),{enabled:_}=(0,q.Z)(),m=(0,w.wF)(),{shrinkSearchBox:g,searchIconOnly:b}=(0,W.Z)();return r("social_experience_holdout_2025_h1"),r("social_experience_holdout_2025_h2"),r("ce_project_habit_holdout_2025_h1"),r("inclusive_holdout_2025"),(0,u.Ow)(1000109),(0,v.jsx)(K,{...e,...m,headerButtonContext:a,headerShadowContext:o,history:n,i18n:t,isVerticalNavEnabled:_,location:s,requestContext:l,searchIconOnly:b,showPersonalBoutique:e.viewer.show_personal_boutique??!1,shrinkSearchBox:g,trackInteraction:d,userAccountsRetrieved:c})}},346340:(e,t,n)=>{n.d(t,{Z:()=>A});var s=n(667294),i=n(20256),a=n(909512),o=n(971518),l=n(233846),r=n(339840),c=n(840962),u=n(174646),d=n(483158),h=n(422378),_=n(882368),m=n(901948),p=n(344500),x=n(420925),f=n(630929),g=n(785893);let y="circle";function b({children:e,show:t,text:n,idealDirection:s,zIndex:a}){return t?(0,g.jsx)(i.u,{accessibilityLabel:"",idealDirection:s,text:n,zIndex:a||new i.H3([new i.Ry(p.fe)]),children:e}):e}function A({isAdsSite:e=!1,isAnalyticsSite:t=!1,isTrendsSite:n=!1,isSelected:p,noNavigation:A=!1,idealTooltipDirection:j,tooltipZIndex:P,onClick:w}){let v=(0,_.ZP)(),C=(0,u.B)(),T=(0,l.ZP)(),{active:S,hovered:k,onBlur:I,onFocus:z,onMouseDown:B,onMouseUp:Z,onMouseEnter:E,onMouseLeave:L}=(0,h.Z)(),{fullName:R,username:O,imageMediumUrl:D}=v.isAuth?v:{fullName:"",username:"",imageMediumUrl:""},N=v.isAuth?v?.avatar_color_index:void 0,{isInBiznuxFullscreen:U}=(0,m.Z)(),H=(0,s.useRef)(null),M=(0,d.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${O}/`,requestContext:C}),F=(0,c.Z)({href:M,onHistoryChange:r.Z}),{enabled:Y}=(0,x.Z)(),W=f.D5;return U||A?(0,g.jsx)(i.xu,{"data-test-id":"header-profile",height:48,rounding:"circle",width:48,children:(0,g.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,g.jsx)(i.xu,{alignItems:"center",display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,g.jsx)(o.qE,{color:N,name:R,size:"xs",src:D})})})}):(0,g.jsxs)(i.xu,{"data-test-id":"header-profile",children:[(0,g.jsx)(a.N,{anchors:{3014:H.current},idealDirection:j,onAnchorTouch:"complete",placementId:1000109,scrollToDismiss:!0}),(0,g.jsx)(b,{idealDirection:j,show:![e,t,n].some(Boolean),text:T._('Your profile', 'navbar.avatarButton.tooltip', 'Tooltip text for button leading to user\'s profile'),zIndex:P,children:(0,g.jsx)(i.Tg,{accessibilityLabel:T._('Your profile', 'navbar.avatarButton.link', 'Profile avatar button that links to user\'s own profile'),href:M,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{w?.(),t(),F({event:e})},rounding:Y?W:y,tapStyle:Y?f.xp:void 0,children:(0,g.jsx)(i.xu,{ref:H,"aria-hidden":!0,color:k&&!Y?"secondary":void 0,dangerouslySetInlineStyle:Y?{__style:{backgroundColor:k?f.bT:void 0}}:void 0,height:48,onBlur:I,onFocus:z,onMouseDown:B,onMouseEnter:E,onMouseLeave:L,onMouseUp:Z,rounding:Y?W:y,width:48,children:(0,g.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,g.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...S||p?{border:"2px solid #111111"}:{}}},display:"flex",height:Y?38:30,justifyContent:"center",rounding:"circle",width:Y?38:30,children:(0,g.jsx)(o.qE,{accessibilityLabel:T._('Your profile', 'navbar.avatarButton.link', 'Profile avatar button that links to user\'s own profile'),color:N,name:R,size:Y?"sm":"xs",src:D})})})})})})]})}},791343:(e,t,n)=>{n.d(t,{Z:()=>x});var s=n(667294),i=n(20256),a=n(970601),o=n(901948),l=n(903683),r=n(785893);function c(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u="SavePin",d={__style:{left:"50%",marginLeft:-125}},h={__style:{animationName:`${u}_AnimateIn, ${u}_CircleAnimateOut`,animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},_={__style:{animationName:`${u}_AnimateIn, ${u}_AnimateOut`,animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},m={__style:{animationName:`${u}_NavButtonAnimation`,animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};class p extends s.Component{constructor(...e){super(...e),c(this,"state",{imageLoaded:!1}),c(this,"handleAnimationCompletion",()=>{let{animationEnded:e}=this.props;this.setState({imageLoaded:!1},()=>{e()})}),c(this,"handleImageLoad",()=>{this.setState({imageLoaded:!0})}),c(this,"loadImage",()=>{let e=new Image;e.onload=this.handleImageLoad,e.src=this.imageSrc()}),c(this,"imageSrc",()=>{let{images:e={}}=this.props.lastRepin||{};return e["236x"]?.url??""}),c(this,"shouldRenderAnimation",()=>{let{lastRepin:e,startAnimation:t}=this.props,{imageLoaded:n}=this.state;return!!(e&&n&&t)})}componentDidUpdate(e,t){let{lastRepin:n={}}=e,{imageLoaded:s}=t,{lastRepin:i,startAnimation:a}=this.props,{imageLoaded:o}=this.state;i&&i.id!==n?.id&&this.loadImage(),a&&o&&o!==s&&(this.dismissTimeout=setTimeout(this.handleAnimationCompletion,2500))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}render(){let{children:e}=this.props;return this.shouldRenderAnimation()?(0,r.jsxs)(i.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,r.jsx)(a.Z,{unsafeCSS:`
@keyframes ${u}_AnimateIn {
  from {
    transform: scale(0.0);
    opacity: 0;
  }
  to {
    opacity: 1;
    transform: scale(1.0);
  }
}
@keyframes ${u}_CircleAnimateOut {
  from {
    transform: scale(1.0);
    opacity: 1;
  }
  to {
    transform: scale(0.8);
    opacity: 0;
  }
}
@keyframes ${u}_AnimateOut {
  from {
    transform: translateY(0) scale(1.0);
    opacity: 1;
  }
  to {
    transform: translateY(-100px) scale(0.0);
    opacity: 0;
  }
}
@keyframes ${u}_NavButtonAnimation {
  0% {
    transform: scale(1.0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1.0);
  }
}
`}),(0,r.jsxs)(i.xu,{position:"relative",children:[(0,r.jsxs)(i.xu,{dangerouslySetInlineStyle:d,height:250,position:"absolute",top:!0,width:250,children:[(0,r.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:h,display:"flex",height:"100%",justifyContent:"center",opacity:0,rounding:"circle",width:"100%"}),(0,r.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:_,height:100,left:!0,margin:"auto",opacity:0,position:"absolute",right:!0,rounding:3,top:!0,width:100,children:(0,r.jsx)(i.zd,{height:"100%",rounding:2,wash:!0,width:"100%",children:(0,r.jsx)(i.Ee,{alt:"pin-image",fit:"cover",naturalHeight:1,naturalWidth:1,src:this.imageSrc()})})})]}),(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:m,children:e})]})]}):e}}function x(e){let{repinPinId:t,repinStartAnimation:n,updateHeaderState:s}=(0,o.Z)(),i=(0,l.S6)(),a=t?i(t):null;return(0,r.jsx)(p,{...e,animationEnded:()=>s({type:"hideRepinAnimation"}),lastRepin:a,startAnimation:n})}},375335:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(667294),i=n(882368),a=n(734781),o=n(624147),l=n(785893);function r({onNewsClick:e,onConversationsClick:t}){let n=(0,i.ZP)();return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(a.Z,{onClick:e}),n.isAuth&&n.should_show_messaging&&(0,l.jsx)(o.Z,{onClick:t})]})}},23063:(e,t,n)=>{n.d(t,{Z:()=>i,x:()=>a});var s=n(55383);function i({user:e,viewer:t}){return!!(t.isAuth&&e?.username===t.username)}function a({user:e,viewer:t,location:n}){let{id:i}=e||{},{id:a,isAuth:o}=t,{pathname:l=""}=n||{};return!!(o&&a===i&&l.includes(`/${s.qV}/`))}},55383:(e,t,n)=>{n.d(t,{Lz:()=>a,qV:()=>s,sz:()=>i});let s="_profile",i={enabled_with_unorganized_feed:"enabled_with_unorganized_feed",enabled_with_log_fix:"enabled_with_log_fix",enabled_old:"enabled_old"},a=506467},400700:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(616550),i=n(113474);function a(e){let{username:t}=(0,s.UO)();return(0,i.Z)(e||null==t?null:{name:"UserResource",options:{username:t,field_set_key:"profile"}})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopHeader-2d0d942c9905164a.mjs.map